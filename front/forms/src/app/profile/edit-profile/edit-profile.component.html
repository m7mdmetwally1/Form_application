<div class="container mt-4">
  <div class="row">
    <div class="col-12">
      <div class="row">
        <div class="col-12 personal_info_title">
          <div>
            <h4>الصورة الشخصية</h4>
            <p>الصورة بصيغة png</p>
            <button class="btn btn-success" (click)="triggerFileInput()">
              إضافة صورة
            </button>
            <input
              type="file"
              id="fileInput"
              (change)="onFileSelected($event)"
              hidden
            />
          </div>
          <!-- <div class="icon-container">
              <i
                class="bi bi-person-fill"
                style="font-size: 100px; border-radius: 15px"
              ></i>
            </div> -->
          <div class="icon-container">
            <i
              *ngIf="!imageUrl"
              class="bi bi-person-fill"
              style="font-size: 100px; border-radius: 15px"
            ></i>
            <img
              *ngIf="imageUrl"
              [src]="imageUrl"
              style="width: 150px; height: 150px; border-radius: 15px"
              alt="Uploaded Image"
            />
          </div>
        </div>
      </div>
      <form [formGroup]="editForm" (ngSubmit)="onSubmit()">
        <div class="row mt-3">
          <div
            class="col-12"
            style="background-color: #fff; border-radius: 10px"
          >
            <h4 style="color: black; text-align: right" class="pt-2">
              البيانات الشخصية
            </h4>
            <hr />
            <div class="row mb-3">
              <div class="col-6">
                <label for="lastName" class="form-label">الأسم الأخير</label>
                <input
                  type="text"
                  class="form-control formInput"
                  id="lastName"
                  formControlName="lastName"
                />
              </div>
              <div class="col-6">
                <label for="firstName" class="form-label">الأسم الأول</label>
                <input
                  type="text"
                  class="form-control formInput"
                  id="firstName"
                  formControlName="firstName"
                />
              </div>
            </div>
            <div class="row mb-3">
              <div class="col-6">
                <label for="fullNameAr" class="form-label"
                  >الأسم كامل بالعربية</label
                >
                <input
                  type="text"
                  class="form-control formInput"
                  id="fullNameAr"
                  formControlName="fullNameArabic"
                  [ngClass]="{
                    'is-invalid': submitted && f['fullNameArabic'].errors
                  }"
                />

                @if (submitted && f['fullNameArabic'].errors){
                <div class="invalid-feedback">
                  @if (f['fullNameArabic'].errors['required']) { fullName is
                  required }
                </div>
                }
              </div>
              <div class="col-6">
                <label for="fullNameEn" class="form-label"
                  >الأسم كامل بالإنجليزية</label
                >
                <input
                  type="text"
                  class="form-control formInput"
                  id="fullNameEn"
                  formControlName="fullNameEnglish"
                />
              </div>
            </div>
            <div class="row mb-3">
              <div class="col-6">
                <label for="birthDate" class="form-label">تاريخ الميلاد</label>
                <input
                  type="text"
                  class="form-control formInput"
                  id="birthDate"
                  formControlName="dateOfBirth"
                />
              </div>
              <div class="col-6">
                <label for="nationality" class="form-label">الجنسية</label>
                <input
                  type="text"
                  class="form-control formInput"
                  id="nationality"
                  formControlName="nationality"
                />
              </div>
            </div>
            <h4 class="mb-2" style="text-align: right; font-size: 15px">
              النوع
            </h4>
            <div class="row pb-3">
              <div class="col-12 kind">
                <div class="radio">
                  <label style="color: black">
                    ذكر
                    <input
                      type="radio"
                      formControlName="kind"
                      class="checked_position"
                    />
                  </label>
                </div>
                <div class="radio">
                  <label style="color: black">
                    أنثى
                    <input
                      type="radio"
                      formControlName="kind"
                      class="checked_position"
                    />
                  </label>
                </div>
              </div>
            </div>
          </div>
        </div>

        <div class="row mt-3">
          <div
            class="col-12"
            style="background-color: #fff; border-radius: 10px"
          >
            <h4 style="color: black; text-align: right" class="pt-2">
              بيانات العنوان
            </h4>
            <hr />
            <div class="row mb-3">
              <div class="col-6">
                <label for="lastName2" class="form-label"> المدينة</label>
                <input
                  type="text"
                  class="form-control formInput"
                  id="lastName2"
                  formControlName="city"
                />
              </div>
              <div class="col-6">
                <label for="firstName2" class="form-label"> الدولة</label>
                <input
                  type="text"
                  class="form-control formInput"
                  id="firstName2"
                  formControlName="country"
                />
              </div>
            </div>
            <div class="row mb-2">
              <div class="col-12">
                <label for="country" class="form-label"> العنوان كامل</label>
                <input
                  type="text"
                  class="form-control formInput"
                  id="country"
                  formControlName="address"
                  [ngClass]="{
                    'is-invalid': submitted && f['fullNameArabic'].errors
                  }"
                />
                @if (submitted && f['address'].errors){
                <div class="invalid-feedback">
                  @if (f['address'].errors['required']) { address is required }
                </div>
                }
              </div>
            </div>
          </div>
        </div>

        <div class="row pb-2 mt-3">
          <div
            class="col-12"
            style="border-radius: 10px; background-color: #fff"
          >
            <div class="mb-3">
              <label for="largeTextarea" class="form-label"
                >(اختيارى) نبذة عنى</label
              >
              <textarea
                class="form-control"
                id="largeTextarea"
                rows="5"
                placeholder=""
                formControlName="introduceMySelf"
              ></textarea>
            </div>
          </div>
        </div>

        <div class="form-Group"></div>
        <button type="submit" class="btn btn-success">احفظ</button>
      </form>
    </div>
  </div>
</div>
